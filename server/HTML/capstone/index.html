<!-- <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN"
"http://www.w3.org/TR/html4/frameset.dtd">
<html>
<head>
	[% PROCESS standardheader.html %]
</head>
	<frameset cols="50%,50%">
		<frame src="home.html?player=[% playerURI %]" name="browser">
		<frame src="status.html?player=[% playerURI %]" name="status">
	</frameset>

	</html>
 -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width">
    <title>Capstone Skin Home</title>
    <link rel="stylesheet" href="playlistHome.css">
    <link rel="stylesheet" href="player.css">

    <script type="text/javascript" src="/html/ext/adapter/ext/ext-base.js?r=[% revision %]"></script>
    <script type="text/javascript" src="/html/ext/ext-all.js?r=[% revision %]"></script>
    <script type="text/javascript">[% PROCESS html/vars.js %]</script>
    <script type="text/javascript" src="/html/SqueezeJS/Base.js?r=[% revision %]"></script>
    <!-- <script type="text/javascript">[% PROCESS html/SqueezeJS/Strings.js %]</script> -->
    <script type="text/javascript" src="/html/SqueezeJS/UI.js?r=[% revision %]"></script>
    <script type="text/javascript">[% PROCESS html/Main.js %]</script>
    <script type="text/javascript">[% PROCESS Browse.js %]</script>
    <script type ="text/javascript">
        Ext.onReady(function(){
            Main.init()
        });

        function addAllSongs() {
                const data = {
                    id: 13,
                    method: "slim.request",
                    params: [ "", ["playlist", "insert", "C:/music/Cars.mp3"]]

                };

                fetch("http://localhost:9000/capstone/jsonrpc.js", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(data)
                })
                .then(response => response.json())
                .then(data => {
                    console.log("playlist updated", data);
                })
                .catch(error => {
                    console.error("Error updating playlist:", error);
                });
            }
    </script>

</head>

<body>
    <div class="overallContainer">
        <div class="overallPlaylistContainer">

            <div class="overallHeadersContainer">
                <div class="player">
                    <div class="homeTitleContainer">
                        <div class="homeTitle">
                            <h2>Home</h2>


                        </div>
                        <!-- <button  id="testButton" style="background-color: #23305f;">test Console log (TO DEL)</button> -->
                        <!-- <input name="saveSettings" id="saveSettings" type="button"  class="saveSettings" value="Save Settings" style="background-color: #23305f;"> -->

                       
                        <div class="settingsContainer">
                            

                            <button class="settingsButton" id="settingsButton">   
                                <svg xmlns="http://www.w3.org/2000/svg"  width="2em" height="2em" viewBox="0 0 24 24"><path fill="#EFF8FC" d="m10.135 21l-.362-2.892q-.479-.145-1.035-.454q-.557-.31-.947-.664l-2.668 1.135l-1.865-3.25l2.306-1.739q-.045-.27-.073-.558q-.03-.288-.03-.559q0-.252.03-.53q.028-.278.073-.626L3.258 9.126l1.865-3.212L7.771 7.03q.448-.373.97-.673q.52-.3 1.013-.464L10.134 3h3.732l.361 2.912q.575.202 1.016.463t.909.654l2.725-1.115l1.865 3.211l-2.382 1.796q.082.31.092.569t.01.51q0 .233-.02.491q-.019.259-.088.626l2.344 1.758l-1.865 3.25l-2.681-1.154q-.467.393-.94.673t-.985.445L13.866 21zm1.838-6.5q1.046 0 1.773-.727T14.473 12t-.727-1.773t-1.773-.727q-1.052 0-1.776.727T9.473 12t.724 1.773t1.776.727"/>
                                </svg>                    
                                Settings </button>




                                    <div class="advancedSettingsPlugin">
                                        <div class="advancedSettingsContent">                                            
                                        <div class="advancedSettingsTabs">                                        
                                            <button class="advancedSettingsMediaLibraryManagementTabButton active" data-tab="advancedSettingsMediaLibraryManagement">Advanced Media Library Management</button>
                                            <button class="advancedSettingsFileTypesTabButton" data-tab="advancedFileTypes">Advanced File Types</button>
                                            <button class="advancedSettingsFormatTabButton active" data-tab="formatSettings">Formatting</button>
                                            <button class="advancedSettingsServerStatusTabButton" data-tab="advancedSettingsServerStatus">Logitech Media Server Status</button>
                                            <button class="advancedSettingsNetworkTabButton" data-tab="advancedSettingsNetwork">Network</button>
                                            <button class="advancedSettingsPerformanceTabButton" data-tab="advancedSettingsPerformance">Performance</button>
                                            <button class="advancedSettingsSecurityTabButton active" data-tab="security">Security</button>
                                            <button class="advancedSettingsSoftwareUpdateTabButton active" data-tab="software">Software Update</button>
                                        </div>
                                            
                                        <div class="advancedSettingsMediaLibraryManagementTab active" id="advancedSettingsMediaLibraryManagement">
                                            <iframe src="plugins/CapstoneSettings/advancedMediaLibraryManagement.html" name="advancedMediaLibraryManagement" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="advancedMediaLibraryManagementIframe" style="display: block; width: 100%;"></iframe>
                                        </div>

                                        <div class="advancedSettingsFileTypesTab" id="advancedFileTypes">
                                            <iframe src="plugins/CapstoneSettings/advancedFileTypes.html" name="advancedFileTypes" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="advancedFileTypesIframe" style="display: block; width: 100%;"></iframe>
                                        </div>

                                        <div class="advancedSettingsFormatTab active" id="formatSettings">
                                            <iframe src="plugins/CapstoneSettings/advancedFormatting.html" name="advancedFormatting" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="advancedFormattingIframe" style="display: block; width: 100%;"></iframe>
                                        </div> 

                                        <div class="advancedSettingsServerStatusTab" id="advancedSettingsServerStatus">
                                            <iframe src="plugins/CapstoneSettings/advancedLmsStatus.html" name="LmsStatus" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="LmsStatusIframe" style="display: block; width: 100%;"></iframe>
                                        </div>

                                        <div class="advancedSettingsNetworkTab" id="advancedSettingsNetwork">
                                            <iframe src="plugins/CapstoneSettings/advancedNetwork.html" name="advancedNetwork" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="advancedNetworkIframe" style="display: block; width: 100%;"></iframe>
                                        </div>

                                        <div class="advancedSettingsPerformanceTab" id="advancedSettingsPerformance">
                                            <iframe src="plugins/CapstoneSettings/advancedPerformance.html" name="advancedPerformance" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="advancedPerformanceIframe" style="display: block; width: 100%;"></iframe>
                                        </div>

                                        <div class="advancedSettingsSecurityTab active" id="security">
                                            <iframe src="plugins/CapstoneSettings/advancedSecurity.html" name="advancedSecurity" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="advancedSecurityIframe" style="display: block; width: 100%;"></iframe>
                                        </div>
                                        <div class="advancedSettingsSoftwareUpdateTab" id="software" style="display: none;">
                                            <iframe src="plugins/CapstoneSettings/advancedSoftwareUpdate.html" name="advancedSoftwareUpdate" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="advancedSoftwareUpdateIframe" style="display: block; width: 100%;"></iframe>
                                        </div>

                                    </div>
                                </div>
                           
                                <div class="basicSettings" id="basicSettings">

                                    <hr  style="margin-top: 0px; margin-bottom: 0.5em;"/>
                                         <!------------- Basic Settings Language Tab Content ------------->

                                    <div class="basicSettingsTabs">                                        
                                        <button class="basicSettingsLanguageTabButton active" data-tab="language">Language</button>
                                        <button class="basicSettingsMediaFoldersTabButton" data-tab="mediaFolders">Media Folders</button>
                                        <button class="basicSettingsPlaylistsTabButton" data-tab="playlistsFolder">Playlists Folder</button>
                                    </div>
                          
                                    <div class="settingsContent">

                                        <div class="basicSettingsLanguageTab active" id="language">

                                            <iframe src="plugins/CapstoneSettings/basicLanguage.html" name="language" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="languageIframe" style="display: block; width: 100%;"></iframe>
                                        </div>

                                       
                                        <div class="basicSettingsMediaFoldersTab" id="mediaFolders">
                                            <iframe src="plugins/CapstoneSettings/basicMediaFolder.html" name="basicMediaFolder" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="basicMediaFolderIframe" style="display: block; width: 100%;"></iframe>
                                        </div>


                                        <div class="basicSettingsPlaylistsTab" id="playlistsFolder">
                                            <iframe src="plugins/CapstoneSettings/basicPlaylistDir.html" name="basicPlaylistDir" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="basicPlaylistDirIframe" style="display: block; width: 100%;"></iframe>
                                        </div>
                                                             
                                

                                        
                                  </div>




                                </div>
                            <!------------- Basic Settings Language Tab Content End ------------->

                            <!------------ INTERFACE SETTINGS -->
                            <div class = "interfaceSettings" id = "interfaceSettings">
                                <hr  style="margin-top: 0px; margin-bottom: 0.5em;"/>
                                <div class= "interfaceSettingsTabs">
                                    <button class ="interfaceSettingsDisplayTabButton active" data-tab="Display">Display</button>
                                    <button class ="interfaceSettingsFormatTabButton" data-tab="Format">Formatting</button>
                                    <button class ="interfaceSettingsTimingTabButton" data-tab="Timing">Timing</button>
                                </div>

                                <div class="interfaceSettingsContent"><br>
                                    <div class="interfaceSettingsDisplayTab active" id="interfaceSettingsDisplay">
                                        <!-- Show Artist Option-->

                                        <iframe src="plugins/CapstoneSettings/basicDisplay.html" name="basicDisplay" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="basicDisplayIframe" style="display: block; width: 100%;"></iframe>
                                    </div>
                                    <div class="interfaceSettingsFormatTab" id="interfaceSettingsFormat">
                                        <iframe src="plugins/CapstoneSettings/basicFormatting.html" name="basicFormatting" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="basicFormattingIframe" style="display: block; width: 100%;"></iframe>
                                    </div>
                                    <div class="interfaceSettingsTimingTab" id="interfaceSettingsTiming">
                                        <iframe src="plugins/CapstoneSettings/basicTiming.html" name="basicTiming" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="basicTimingIframe" style="display: block; width: 100%;"></iframe>
                                    </div>
                                </div>
                            </div>

                            <!------------- Management Library organisation Tab  (Behaviour settings) ------------->
                            <div class="mediaLibraryManagementSettings" id="mediaLibraryManagementSettings">

                                <hr  style="margin-top: 0px; margin-bottom: 0.5em;"/>

                                <div class="mediaLibraryManagementSettingsTabs">                                        
                                    <button class="mediaLibraryManagementBrowseTabButton active" data-tab="browseArtists">Browse Artists</button>
                                    <button class="mediaLibraryManagementReleaseTypesTabButton" data-tab="releaseTypes">Release Types</button>
                                    <button class="mediaLibraryManagementFiltersTabButton" data-tab="filters">Filters</button>
                                    <button class="mediaLibraryManagementPlaylistsTabButton" data-tab="playlists">Playlists</button>
                                </div>
                      
                                <div class="mediaLibraryManagementSettingsContent">

                                    <div class="mediaLibraryManagementBrowseTab active" id="mediaLibraryManagementBrowseArtists">
                                        <iframe src="plugins/CapstoneSettings/basicBrowseArtists.html" name="browseArtists" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="basicBrowseArtistsIframe" style="display: block; width: 100%;"></iframe>
                                    </div>

                                    <div class="mediaLibraryManagementReleaseTypesTab" id="mediaLibraryManagementReleaseTypes">
                                        <iframe src="plugins/CapstoneSettings/basicReleaseTypes.html" name="basicReleaseTypes" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="basicReleaseTypesIframe" style="display: block; width: 100%;"></iframe>
                                    </div>
                                    
                                    <div class="mediaLibraryManagementFiltersTab" id="mediaLibraryManagementFilters">
                                        <iframe src="plugins/CapstoneSettings/basicFilters.html" name="basicFilters" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="basicFiltersIframe" style="display: block; width: 100%;"></iframe>
                                    </div>


                                    <div class="mediaLibraryManagementPlaylistsTab" id="mediaLibraryManagementPlaylists">
                                        <iframe src="plugins/CapstoneSettings/basicPlaylists.html" name="basicPlaylists" height="350px" width="100%" height="" frameborder="0" scrolling="auto" id="basicPlaylistsIframe" style="display: block; width: 100%;"></iframe>
                                    </div>



                                    





                                </div>
                        </div>


                       

                        </div>
                       

                        </div>


                     
                       
             
                </div>
         
                        <ul class="accordionContainer">
                            <button class="accordionButton">My Music</button>



                            <div class="accordionPanel">
                                <div class="allMusicContainer">    
                           
                                    <div class="allMusicSelect" id="allSongs">Songs</div>

                                    <div class="songsList" >
                                        <div style="margin: 3rem;">
                            
                                            You have: [% song_count %] total. <br>

                                            <iframe src="/capstone/clixmlbrowser/clicmd=browselibrary+items&linktitle=BROWSE_MUSIC_FOLDER&mode=bmf/" frameborder="0" class="songsIframe" id="songsIframe">
                                                    
                                            </iframe>
                                
                        
                                            <div id="browsedbList" style="background-color: #1b2444;"></div>
                                    
                    

                                    
                                       
                                          
                                                <!-- This LINKS ALL THE FOLDERS -->
                                            <!-- <div class="homeMenuSection">
                                                <div>[% "BROWSE_MUSIC" | string | upper %]</div>
                                                <ul>
                                                [%- FOREACH item = additionalLinkOrder.browse %]
                                                    [%- IF additionalLinks.browse.exists(item) %]
                                                    <li><a href="[% additionalLinks.browse.$item | html %]player=[% playerURI %]">[% item | getstring | html %]</a></li>
                                                    [% IF item == 'SEARCH' && additionalLinks.search.ADVANCEDSEARCH %]
                                                    <li><a href="[% additionalLinks.search.ADVANCEDSEARCH | html %]player=[% playerURI %]">[% "ADVANCEDSEARCH" | getstring | html %]</a></li>
                                                    [% END %]
                                                    [%- END %]
                                                [%- END %]
                                                [%- FOREACH link = additionalLinks.browse; IF !additionalLinkOrder.browse.grep(link.key).size %]
                                                    <li><a href="[% link.value | html %]player=[% playerURI %]">[% link.key | getstring | html %]</a></li>
                                                [%- END; END %]
                                                </ul>
                                            </div>
                                             -->
                                   
                                        </div>

                                        
                                    </div>
                                    
                                     <hr />
                                    <div class="allMusicSelect" id="allAlbums" >Albums</div>
                                    <div class="albumsList">
                                        <div style="margin: 3rem;">
                                         You have: [% album_count %] total. <br />                           
                                            <iframe src="http://localhost:9000/capstone/clixmlbrowser/clicmd=browselibrary+items&linktitle=BROWSE_BY_ALBUMARTIST&role_id=ALBUMARTIST&mode=artists/?player=10%3Af6%3A0a%3A92%3A1d%3A96" frameborder="0" class="albumsIframe" ></iframe>
                                            
                                        

                                            
                     
                                            
                                        </div>
                                    </div>

                                    <hr />
                                    
                                    <div class="allMusicSelect" id="allArtists">Artists</div>
                                    <div class="artistsList">
                                        <div style="margin: 3rem;">
                                            You have: [% artist_count %] total.

                                            <iframe src="http://localhost:9000/capstone/clixmlbrowser/clicmd=browselibrary+items&linktitle=BROWSE_BY_ALL_ARTISTS&mode=artists/" frameborder="0" class="artistsIframe"></iframe>

                                          

                                        </div>
                                    </div>


                                    <hr />
                         
                                
                                    
                                </div>
                            </div>
                            <hr />
                        </ul>
                
                 

                <!-- Favourites - See READEME.md for more info  -->
                <ul class="accordionContainer">
                    <button class="accordionButton">Favourites</button>
                    <div class="accordionPanel">
                        <div class="allFavouritesContainer">    
                            <div class="allFavourites" id="allFavourites" class>All Favourites</div>
                            <div class="favouritesList">
                                <iframe src="http://localhost:9000/capstone/plugins/Favorites/index.html" frameborder="0" class="favouritesIframe"></iframe>
                                 
                            </div>
                        </div>
                    </div>
                    <hr />
                </ul>

                
    
                



            <!-- Plugins / My App accordion -->
            <ul class="accordionContainer">
                <button class="accordionButton">My Apps</button>
                <div class="accordionPanel">
                    <h5>To be implemented. Look at README.md</h5>

                    <div class="pluginsContainer">
                        <div class="pluginExample"></div>
                        <div class="pluginExample"></div>
                        <div class="pluginExample"></div>
                        <div class="pluginExample"></div>
                        <div class="pluginExample"></div>
                    </div>
                </div>
                <hr />
            </ul>
                <!-- Plugins end -->

            <!-- Plugins end -->


            
                   <!-- Radio -->
                   <ul class="accordionContainer">
                    <button class="accordionButton">Radio</button>
                    <div class="accordionPanel">
                        <div class="allRadioContainer">
                            <div class="radioTuneInAccordionTitle" id="radioTuneInTitle">Radio Tune In</div>
                            <div class="radioTuneIn" id="radioTuneIn">
                               <iframe src="tunein.html" frameborder="0" class="radioIframe"> </iframe>
                            </div>

                
                                                          
                        
                        </div>
                    </div>
                    <hr />

                </ul>
            <!-- Radio end -->

                       <!-- This LINKS ALL THE FOLDERS -->
                                            <!-- <div class="homeMenuSection">
                                                <div>[% "BROWSE_MUSIC" | string | upper %]</div>
                                                <ul>
                                                [%- FOREACH item = additionalLinkOrder.browse %]
                                                    [%- IF additionalLinks.browse.exists(item) %]
                                                    <li><a href="[% additionalLinks.browse.$item | html %]player=[% playerURI %]">[% item | getstring | html %]</a></li>
                                                    [% IF item == 'SEARCH' && additionalLinks.search.ADVANCEDSEARCH %]
                                                    <li><a href="[% additionalLinks.search.ADVANCEDSEARCH | html %]player=[% playerURI %]">[% "ADVANCEDSEARCH" | getstring | html %]</a></li>
                                                    [% END %]
                                                    [%- END %]
                                                [%- END %]
                                                [%- FOREACH link = additionalLinks.browse; IF !additionalLinkOrder.browse.grep(link.key).size %]
                                                    <li><a href="[% link.value | html %]player=[% playerURI %]">[% link.key | getstring | html %]</a></li>
                                                [%- END; END %]
                                                </ul>
                 </div> -->

                </div>
            </div>
        </div>
    </div>
    <!-- Pull out tab for home music -->
    <button class="animationBtn">
        <span></span>
        <svg xmlns="http://www.w3.org/2000/svg" width="3em" height="6em" viewBox="0 0 24 24">
            <g fill="none" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                <path d="M3 17a3 3 0 1 0 6 0a3 3 0 0 0-6 0m10 0a3 3 0 1 0 6 0a3 3 0 0 0-6 0"/>
                <path d="M9 17V4h10v13M9 8h10"/>
            </g>
        </svg>
    </button>





    <div class="mainContainer">
        <div class="albumContainer">
            <div class="album">
                <div id = "coverart"></div>
            </div>
        </div>
        <div class="textContainer">
            <h1 id ="title"></h1>
            <h2 id ="artist"></h2>
            <h2 id ="bitrate"></h2>
            <h2 id ="samplerate"></h2>
        </div>
        <div class="playerContainer">
            <div class="player">
                <div id="playtimePanel">
                    <div id="ctrlPlaytime"></div>
                    <div id="playbar">
                        <div id="ctrlProgress"></div>
                    </div>
                    <div id="ctrlRemainingTime"></div>
                </div>
                <!--<div id="ctrlProgress"></div>
                <div class="timeInfo">
                    <p class="playtime" id="playtime"></p>
                    <p class="maxtime" id="maxtime"></p>
                </div>-->
                <div class="buttons">
                    <div class="control">
                        <div id="repeatButton" class="repeatButtonInactive">   
                        </div>
                    </div>
                    <div class="control">
                        <div id="prevButton" class="prevButton">   
                        </div>
                    </div>
                    <div class="control">
                        <div id="playPause" class="">   
                        </div>
                    </div>
                    <div class="control">
                        <div id="nextButton" class="nextButton">   
                        </div>
                    </div>
                    <div class="control">
                        <div id="shuffleButton" class="shuffleButtonInactive">   
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <button class="infoPanelBtn">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="3em" height="6em" viewBox="0 0 34 34" fill="none">
            <g fill="none" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
                <!--horizontal lines-->
                <path d="M 5 10 L 30 10" />
                <path d="M 5 17 L 30 17" />
                <path d="M 5 24 L 30 24" />              
            </g>
            <g fill="#d3d3d3" stroke="#d3d3d3" stroke-linecap="round" stroke-linejoin="round" stroke-width="3">
                <ellipse cx="22" cy="28" rx="4" ry="3.5" />
                <path d="M 26.5 28 L 26.5 13" />
                <path d="M 26.5 10 Q 26.5 13 32 20"/>
            </g>
        </svg>
    </button>
    <div class="musicInfoPanel">
        <div class="QueuePanelRight">
            <h2>Music Play List</h2>
            <button onclick="addAllSongs()">add all songs</button>
             <!-- <a href="javascript:RandomPlay.mix('track', '0');">add all songs</a> -->
            </div>
            
            <div id="playlistPanel" style="height: 90%; overflow: auto; ">
                <div id="playList">
                    <div class="noPlayerPanel" style="display:none">
                        [% PROCESS status_noclients.html ajaxUpdate=1 %]
                    </div>
                </div>
            </div>
        </div>
    </div>   
</body>
<script src="player.js"></script>
<script src="playlistHome.js"></script>

</html>