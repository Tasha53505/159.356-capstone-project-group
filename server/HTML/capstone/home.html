	[%- IF ajaxRequest -%]
	<pre>
	[% PROCESS ajaxHome.txt %]
	</pre>
[%- ELSE -%]
[% FILTER null %]
[% pagetitle = stringHOME; noSpacer = 1; noHomeLink = 1 %]

[% IF warn %]
	[% bodyscript = 'onload="doLoad(1);"' %]
[% END %]

[% pageHeaderMenu = BLOCK %]

	<div class="statusarea">
		<div id="scanWarning" [% IF NOT warn %]style="display:none"[% END %]><b>[% "NOTE" | string %]</b> [% "HOME_SCAN_WARNING" | string %]</div>

		<div id="libraryInfo" [% IF warn OR NOT (album_count OR artistcount OR song_count) %]style="display:none"[% END %]>
			[%- "LIBRARY_CONTAINS" | string %]&nbsp;<span id="albumcount">[% album_count %]</span>&nbsp;[% "WITH" | string -%]
			<span id="songcount">[%- song_count %]</span>&nbsp;[% stringBY %]&nbsp;<span id="artistcount">[% artist_count %]</span>.
		</div>

		<div id="newVersion">
			[% IF newVersion %]<br><br>[% newVersion %][% END %]
		</div>

	</div>

[% END %]

[% pageHeaderScripts = BLOCK %]
	<script TYPE="text/javascript">[% PROCESS html/vars.js %]</script>
	<script type="text/javascript" src="[% webroot %]html/prototype.js?r=[% revision %]" ></script>
	<script TYPE="text/javascript" src="[% webroot %]html/global.js?r=[% revision %]"></script>
	<script TYPE="text/javascript" src="[% webroot %]html/common.js?r=[% revision %]"></script>
	<script TYPE="text/javascript" src="[% webroot %]html/home.js?r=[% revision %]" ></script>
[% END %]

[% END -%]
[% PROCESS pageheader.html %]

			<div id="progressName" style="display:inline">[% IF progress.name %][% progress.name _ "_PROGRESS" | string %][% END %]</div><br>
			<a href="[% webroot %]progress.html?type=importer"><span id="progressBar" >[% progress.bar %]</span></a>

<div class="homeMenuSection">
	<div>[% "BROWSE_MUSIC" | string | upper %]</div>
	<ul>
	[%- FOREACH item = additionalLinkOrder.browse %]
		[%- IF additionalLinks.browse.exists(item) %]
		<li><a href="[% additionalLinks.browse.$item | html %]player=[% playerURI %]">[% item | getstring | html %]</a></li>
		[% IF item == 'SEARCH' && additionalLinks.search.ADVANCEDSEARCH %]
		<li><a href="[% additionalLinks.search.ADVANCEDSEARCH | html %]player=[% playerURI %]">[% "ADVANCEDSEARCH" | getstring | html %]</a></li>
		[% END %]
		[%- END %]
	[%- END %]
	[%- FOREACH link = additionalLinks.browse; IF !additionalLinkOrder.browse.grep(link.key).size %]
		<li><a href="[% link.value | html %]player=[% playerURI %]">[% link.key | getstring | html %]</a></li>
	[%- END; END %]
	</ul>
</div>

<div class="homeMenuSection">
	<div>[% "RADIO" | string | upper %]</div>
	<ul>
	[%- FOREACH item = additionalLinkOrder.radios %]
		<li><a href="[% additionalLinks.radios.$item | html %]player=[% playerURI %]">[% item | getstring | html %]</a></li>
	[%- END %]
	[%- FOREACH link = additionalLinks.radios; IF !additionalLinkOrder.radios.grep(link.key).size %]
		<li><a href="[% link.value | html %]player=[% playerURI %]">[% link.key | getstring | html %]</a></li>
	[%- END; END %]
		<li><a href="tunein.html?player=[% playerURI %]">[% "RADIO_TUNEIN" | string | html %]</a></li>
	</ul>
</div>

[% IF additionalLinks.my_apps %]
<div class="homeMenuSection">
	<div>[% "PLUGIN_MY_APPS_MODULE_NAME" | string | upper %]</div>
	<ul>
	[%- FOREACH item = additionalLinkOrder.my_apps %]
		<li><a href="[% additionalLinks.my_apps.$item | html %]player=[% playerURI %]" [% IF additionalLinks.my_apps.$item.match('^https?:') %]target="_blank"[% END %]>[% item | getstring | html %]</a></li>
	[%- END %]
	[%- FOREACH link = additionalLinks.apps; IF !additionalLinkOrder.my_apps.grep(link.key).size %]
		<li><a href="[% link.value | html %]player=[% playerURI %]">[% link.key | getstring | html %]</a></li>
	[%- END; END %]
	</ul>
</div>
[%- END %]

[% IF not nosetup %]
<div class="homeMenuSection">
	<div>[% "SETTINGS" | string | upper %]</div>
	<ul>
	[%- IF not noserver %]
		<li><a href="[% webroot %]settings/server/basic.html?player=[% playerURI %]">[% "SERVER_SETTINGS" | string %]</a></li>
	[%- END %]

	[%- USE Clients; players = Clients.get("name"); FOREACH client = players.reverse; %]
		<li><a href="[% webroot %]settings/player/basic.html?player=[% playerURI %]&amp;playerid=[% client.id | uri %]">[% "PLAYER_SETTINGS" | string %][% IF client.name %] [% "FOR" | string %] [% client.name %][% END %]</a></li>
	[%- END %]

	[%- FOREACH key = additionalLinks.settings.keys %]
		<li><a href="[% additionalLinks.settings.$key | html %]player=[% playerURI %]">[% key | getstring | html %]</a></li>
	[%- END %]
	</ul>
</div>
[% END %]

[% IF additionalLinks.plugins %]
<div class="homeMenuSection">
	<div>[% "PLUGINS" | string | upper %]</div>
	<ul>
		[%- FOREACH link = additionalLinks.plugins %]
			[% NEXT IF link.key == 'ALARM' && (!player || nosetup) %]
			<li><a href="[% link.value | html %]player=[% playerURI %][% IF link.key == 'ALARM'%]&playerid=[% playerURI %][% END %]">[% link.key | getstring | html %]</a></li>
		[%- END %]
	</ul>
</div>
[% END %]

<div class="homeMenuSection">
	<div>[% "HELP" | string | upper %]</div>
	<ul>
	[%- FOREACH link = additionalLinks.help %]
		<li><a href="[% link.value | html %][% IF NOT link.value.match('^http') %]player=[% playerURI %][% END %]" [% IF link.value.match('^http') %]target="_new"[% END %]>[% link.key | string | html %]</a></li>
	[%- END %]
	</ul>
</div>


<div class="overallContainer">
	<div class="overallPlaylistContainer">
		<div class="overallHeadersContainer">
			<div class="player">
				<h2>Player</h2>
				<ul>
					<li>My Music</li>
					<hr />
				</ul>
				<ul class="pluginsAccordion">
					<button class="accordionButton">Plugins</button>
					<div class="accordionPanel">
						<div class="pluginsContainer">
							<div class="pluginExample"></div>
							<div class="pluginExample"></div>
							<div class="pluginExample"></div>
							<div class="pluginExample"></div>
							<div class="pluginExample"></div>

							<div class="pluginExample"></div>                                
							<div class="pluginExample"></div>
							<div class="pluginExample"></div>
							<div class="pluginExample"></div>
							<div class="pluginExample"></div>
						</div>
					
					</div>
					<hr />

				</ul>
			</div>
		</div>
	</div>
</div>
<button class="animationBtn">
	<svg xmlns="http://www.w3.org/2000/svg" width="3em" height="6em" viewBox="0 0 24 24"><g fill="none" stroke="#ffffff" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 17a3 3 0 1 0 6 0a3 3 0 0 0-6 0m10 0a3 3 0 1 0 6 0a3 3 0 0 0-6 0"/><path d="M9 17V4h10v13M9 8h10"/></g></svg>
</button>
<script src="script.js"></script>
</body>
</html>


<style>
/* Colours:
20294B (dark blue) 
470037 for headings (hope that makes sense).  
also uses Oladra colour 284771 for headings.
EFF8FC (white)
Highlights, links, buttons are 0456C6
*/

@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Pacifico&family=Poetsen+One&display=swap');

* {
margin: 0;
font-family: "Inter", sans-serif;
color: #EFF8FC;
}

.overallContainer {
background-color: #ccccce;
width: 60%;
height: 20vh;
display: flex;
justify-content: center;
}

.overallPlaylistContainer {
background-color: #20294B;
height: 100vh; /*Adjusts to any screen-size on desktop to always take up 100% view height */
width: 45%;
border-radius: 1em;
}

.player h2 {
text-align: center;
font-weight: 400;
margin-top: 3%;
}

ul li {
text-decoration: none;
list-style-type: none;
margin-top: 5%;
}

hr {
width: 80%;
height: 0.2em;
border-radius: 50px;
margin-top: 0.5em;
background-color: #151d3a;
border-color: #151d3a;
}

/* Accordion for Plugins */
.pluginsAccordion a {
text-decoration: none;

}

.accordionButton {
background: none!important;
border: none;
padding: 0!important;
cursor: pointer;
font-size: 1em;

}

.active, .accordionButton:hover {
background-color: #ccc; 

}

.pluginsContainer {
display: flex;
padding: 1em;
width: 80%;
height: 60%;
flex-wrap: wrap;


}

.pluginExample {
background: #EFF8FC;
width: 2em;
height: 2em;
margin-left: 5%;
margin-top: 5%;
}

/* Animation */
.animationBtn {
background-color: #0456C6;
border: none;
padding: 1em;
border-radius: 0% 30% 30% 0%;
margin-top: 10%;
}

.accordionPanel {
max-height: 0;
overflow: hidden;
background-color: #20294B;
padding: 0 18px;
border-radius: 0 0 10px 10px;
transition: max-height 0.7s ease-in-out, padding 0.4s ease-in-out;
}

.accordionPanel.show {
max-height: 50vh; 
padding: 18px;
}
</style>
<script>
var accordion = document.getElementsByClassName("accordion");
var i;
document.addEventListener('DOMContentLoaded', function () {
var accordions = document.querySelectorAll('.accordionButton');
accordions.forEach(function (accordion) {
	accordion.addEventListener('click', function () {
		this.classList.toggle('active');
		var accordionPanel = this.nextElementSibling;
		if (accordionPanel.classList.contains('show')) {
			accordionPanel.classList.remove('show');
		} else {
			accordionPanel.classList.add('show');
		}
	});
});
});


</script>

[% PROCESS pagefooter.html %]
[% END %]


